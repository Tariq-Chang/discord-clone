(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[0],{72:function(e,c,n){},73:function(e,c,n){},79:function(e,c,n){},86:function(e,c,n){},87:function(e,c,n){},88:function(e,c,n){},89:function(e,c,n){},90:function(e,c,n){},91:function(e,c,n){"use strict";n.r(c);var a=n(2),s=n.n(a),t=n(23),i=n.n(t),r=(n(72),n(26)),l=n(42),d=n.n(l),j=n(49),o=n.n(j),b=(n(73),n(16)),h=(n(79),n(28)),u=Object(h.b)({name:"app",initialState:{channelId:null,channelName:null},reducers:{setChannelInfo:function(e,c){e.channelId=c.payload.channelId,e.channelName=c.payload.channelName}}}),m=u.actions.setChannelInfo,O=function(e){return e.app.channelId},x=function(e){return e.app.channelName},p=u.reducer,f=n(3);var v=function(e){var c=e.id,n=e.channel,a=Object(b.b)();return Object(f.jsx)("div",{className:"sidebarChannel",onClick:function(){return a(m({channelId:c,channelName:n.channelName}))},children:Object(f.jsxs)("h4",{children:[Object(f.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),n.channelName]})})},g=n(50),_=n.n(g),N=n(51),S=n.n(N),I=n(52),C=n.n(I),y=n(107),z=n(53),k=n.n(z),w=n(54),A=n.n(w),T=n(55),H=n.n(T),J=Object(h.b)({name:"user",initialState:{user:null},reducers:{login:function(e,c){e.user=c.payload},logout:function(e){e.user=null}}}),M=J.actions,U=M.login,B=M.logout,E=function(e){return e.user.user},P=J.reducer,D=n(36),F=D.a.initializeApp({apiKey:"AIzaSyBd5UQMSTXOoyJqTKPnS-ufIWwzH0j5bJY",authDomain:"discord-clone-8d323.firebaseapp.com",projectId:"discord-clone-8d323",storageBucket:"discord-clone-8d323.appspot.com",messagingSenderId:"866698209650",appId:"1:866698209650:web:23ea599d1d5f108a1815eb",measurementId:"G-2XYZYSY0JS"}),G=F.firestore(),Y=F.auth(),q=new D.a.auth.GoogleAuthProvider,K=G;var X=function(){var e=Object(a.useState)([]),c=Object(r.a)(e,2),n=c[0],s=c[1];Object(a.useEffect)((function(){K.collection("channels").onSnapshot((function(e){s(e.docs.map((function(e){return{id:e.id,channel:e.data()}})))}))}),[]);var t=Object(b.c)(E);return Object(f.jsxs)("div",{className:"sidebar",children:[Object(f.jsxs)("div",{className:"sidebar__top",children:[Object(f.jsx)("h3",{children:"Clever Programmer"}),Object(f.jsx)(d.a,{})]}),Object(f.jsxs)("div",{className:"sidebar__channels",children:[Object(f.jsxs)("div",{className:"sidebar__channelsHeader",children:[Object(f.jsxs)("div",{className:"sidebar__header",children:[Object(f.jsx)(d.a,{}),Object(f.jsx)("h4",{children:"Text Channels"})]}),Object(f.jsx)(o.a,{onClick:function(){var e=prompt("Enter a new Channel Name");e&&K.collection("channels").add({channelName:e})},className:"sidebar__addChannel"})]}),Object(f.jsx)("div",{className:"sidebar__channelsList",children:n.map((function(e,c){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(v,{id:e.id,channel:e.channel},c)})}))})]}),Object(f.jsxs)("div",{className:"sidebar__voice",children:[Object(f.jsx)(_.a,{className:"sidebar__voiceIcon",fontSize:"large"}),Object(f.jsxs)("div",{className:"sidebar__voiceInfo",children:[Object(f.jsx)("h3",{children:"Voice connected"}),Object(f.jsx)("p",{children:"Stream"})]}),Object(f.jsxs)("div",{className:"sidebar__voiceIcons",children:[Object(f.jsx)(S.a,{fontSize:"large"}),Object(f.jsx)(C.a,{fontSize:"large"})]})]}),Object(f.jsxs)("div",{className:"sidebar__profile",children:[Object(f.jsx)(y.a,{onClick:function(){return Y.signOut()},src:t.photo}),Object(f.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(f.jsx)("h3",{children:t.displayName}),Object(f.jsxs)("p",{children:["#",t.uid.substring(0,5)]})]}),Object(f.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(f.jsx)(k.a,{fontSize:"large"}),Object(f.jsx)(A.a,{fontSize:"large"}),Object(f.jsx)(H.a,{fontSize:"large"})]})]})]})},L=(n(86),n(87),n(88),n(56)),Q=n.n(L),V=n(57),W=n.n(V),Z=n(58),R=n.n(Z),$=n(59),ee=n.n($),ce=n(60),ne=n.n(ce),ae=n(61),se=n.n(ae);var te=function(e){var c=e.channelName;return Object(f.jsxs)("div",{className:"chatHeader",children:[Object(f.jsx)("div",{className:"chatHeader__left",children:Object(f.jsxs)("h3",{children:[Object(f.jsx)("span",{className:"chatHeader__hash",children:"#"}),c]})}),Object(f.jsxs)("div",{className:"chatHeader__right",children:[Object(f.jsx)(Q.a,{}),Object(f.jsx)(W.a,{}),Object(f.jsx)(R.a,{}),Object(f.jsxs)("div",{className:"chatHeader__search",children:[Object(f.jsx)("input",{placeholder:"Search"}),Object(f.jsx)(ee.a,{})]}),Object(f.jsx)(ne.a,{}),Object(f.jsx)(se.a,{})]})]})},ie=n(62),re=n.n(ie),le=n(63),de=n.n(le),je=n(64),oe=n.n(je),be=n(65),he=n.n(be);n(89);var ue=function(e){var c=e.timestamp,n=e.message,a=e.user;return Object(f.jsxs)("div",{className:"message",children:[Object(f.jsx)(y.a,{src:a.photo}),Object(f.jsxs)("div",{className:"message__info",children:[Object(f.jsxs)("h4",{children:[a.displayName,Object(f.jsx)("span",{className:"message__timestamp",children:new Date(null===c||void 0===c?void 0:c.toDate()).toUTCString()})]}),Object(f.jsx)("p",{children:n})]})]})};var me=function(){var e=Object(b.c)(E),c=Object(b.c)(x),n=Object(b.c)(O),s=Object(a.useState)(""),t=Object(r.a)(s,2),i=t[0],l=t[1],d=Object(a.useState)([]),j=Object(r.a)(d,2),o=j[0],h=j[1];return Object(a.useEffect)((function(){n&&K.collection("channels").doc(n).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){h(e.docs.map((function(e){return e.data()})))}))}),[n]),Object(f.jsxs)("div",{className:"chat",children:[Object(f.jsx)(te,{channelName:c}),Object(f.jsx)("div",{className:"chat__messages",children:o.map((function(e){return Object(f.jsx)(ue,{timestamp:e.timestamp,message:e.message,user:e.user})}))}),Object(f.jsxs)("div",{className:"chat__input",children:[Object(f.jsx)(re.a,{fontSize:"large"}),Object(f.jsxs)("form",{children:[Object(f.jsx)("input",{value:i,disabled:!n,onChange:function(e){return l(e.target.value)},placeholder:"Message #".concat(c)}),Object(f.jsx)("button",{onClick:function(c){c.preventDefault(),K.collection("channels").doc(n).collection("messages").add({message:i,user:e,timestamp:D.a.firestore.FieldValue.serverTimestamp()})},type:"submit",className:"chat__inputButton",children:"Send Message"})]}),Object(f.jsxs)("div",{className:"chat__inputIcons",children:[Object(f.jsx)(de.a,{fontSize:"large"}),Object(f.jsx)(oe.a,{fontSize:"large"}),Object(f.jsx)(he.a,{fontSize:"large"})]})]})]})},Oe=(n(90),n(106));var xe=function(){return Object(f.jsxs)("div",{className:"login",children:[Object(f.jsx)("div",{className:"login__logo",children:Object(f.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-x2sXwn1koUQvzJjkIMCinK1sedmJ1mofzaiT4wZMCAnPAFSpSmg0Ge2Nx61gT0d9yUo&usqp=CAU",alt:"discord logo"})}),Object(f.jsx)(Oe.a,{onClick:function(){Y.signInWithPopup(q).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};var pe=function(){var e=Object(b.b)(),c=Object(b.c)(E);return Object(a.useEffect)((function(){Y.onAuthStateChanged((function(c){console.log(c),e(c?U({uid:c.uid,email:c.email,photo:c.photoURL,displayName:c.displayName}):B({user:null}))}))}),[e]),Object(f.jsx)("div",{className:"app",children:c?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(X,{}),Object(f.jsx)(me,{})]}):Object(f.jsx)(xe,{})})},fe=Object(h.a)({reducer:{user:P,app:p}});i.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(b.a,{store:fe,children:Object(f.jsx)(pe,{})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.1bc2f5cb.chunk.js.map